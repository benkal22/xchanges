

{% extends 'inventory/base.html' %}

{% load django_tables2 %}
{% load crispy_forms_tags %}

{% block title %}Liste des Clients{% endblock %}

{% block content %}
<div class="container">
    <h1>Liste des Clients</h1>

    {# Formulaire de Filtrage #}
    <form method="get" class="form-inline mb-3">
        {{ filter.form|crispy }}
        <button type="submit" class="btn btn-primary">Filtrer</button>
    </form>

    {# Tableau des Clients #}
    {% render_table table %}
    
    {# Pagination #}
    {% if table.page %}
    <nav aria-label="Page navigation">
        <ul class="pagination">
            {% if table.page.has_previous %}
            <li class="page-item"><a class="page-link" href="?{{ table.page.previous_page_querystring }}">Précédent</a></li>
            {% endif %}
            <li class="page-item active"><span class="page-link">{{ table.page.number }}</span></li>
            {% if table.page.has_next %}
            <li class="page-item"><a class="page-link" href="?{{ table.page.next_page_querystring }}">Suivant</a></li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}
</div>
{% endblock %}

{% comment %} {% extends 'inventory/base.html' %}

{% block content %}

<h1>Liste de clients</h1>
<!-- <p>{{ companyClients|length }} clients</p> -->
<h4>Clients professionnels</h4>
<ul>
    {% for companyClient in companyClients %}
    <li>
        <a href="{% url 'client-company-detail' companyClient.company_client_id %}">{{companyClient.company_name}}</a>
    </li>
    {% endfor %}  

    {% for client in company_clients %}
            <li>
            <a href="{% url 'client-company-detail' companyClient.company_client_id %}">{{companyClient.company_name}}</a>

                {{ client.nom }} - {{ client.email }}
            </li>

    {% endfor %}
</ul>

<h4>Clients personnels</h4>
<ul>
    {% for personalClient in personalClients %}
    <li>
        <a href="{% url 'client-personal-detail' personalClient.personal_client_id %}">{{personalClient.personal_client_name}}</a>
    </li>
    {% endfor %}  
</ul>

{% endblock %} {% endcomment %}